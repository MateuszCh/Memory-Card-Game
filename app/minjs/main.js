!function(){function e(){localStorage.setItem("records_array",JSON.stringify(L))}function t(e,t){this.result=e,this.nickname=t}function n(e){b.innerHTML="";for(var t=0;t<e.length;t++){var n=document.createElement("li"),a=document.createElement("span"),i=document.createElement("span"),s=document.createElement("span");a.textContent=t+1,i.textContent=e[t].nickname,s.textContent=e[t].result,n.appendChild(a),n.appendChild(i),n.appendChild(s),b.appendChild(n)}}function a(e){e.length>1&&e.sort(function(e,t){return e.result-t.result}),e.length>10&&e.pop(),n(e)}function i(e){p||f?p&&!f?(r(e.target),f=e.target):p&&f&&(p.previousSibling.src!=f.previousSibling.src?(c(p),c(f)):(p.previousSibling.src=f.previousSibling.src)&&(p.previousSibling.classList.add("grayish"),p.classList.remove("back"),f.previousSibling.classList.add("grayish"),f.classList.remove("back")),f="",p=e.target,r(p)):(p=e.target,r(e.target))}function s(){for(var e=document.getElementsByClassName("card"),t=0;t<e.length;t++)if(!e[t].classList.contains("flipped"))return!1;return!0}function r(e){e.parentNode.classList.add("flipped")}function c(e){e.parentNode.classList.remove("flipped")}function o(){for(var e=["czech","france","italy","japan","korea","portugal","russia","uruguay","czech","france","italy","japan","korea","portugal","russia","uruguay"],t=[];e.length;){var n=Math.floor(Math.random()*e.length);t.push(e.splice(n,1)[0])}return t}function l(){var e=document.getElementById("board");e.innerHTML="";for(var t=o();t.length;){var n=document.createElement("img"),a=document.createElement("figure"),i=document.createElement("div");i.classList.add("container");var s=document.createElement("div");s.classList.add("card"),n.src="images/"+t[0]+".png",n.setAttribute("alt",t[0]),n.classList.add("front"),a.textContent="Fun with Flags",a.classList.add("back"),s.appendChild(n),s.appendChild(a),i.appendChild(s),e.appendChild(i),t.splice(0,1)}}function d(){var e=document.getElementById("counter");y=(new Date).getTime(),E=y-v,E/=1e3,E=Math.round(10*E)/10,e.textContent=E}function u(){p="",f=""}function m(e){e.style.display="flex",e.classList.add("slideDown"),setTimeout(function(){e.classList.remove("slideDown")},500)}function g(e){e.classList.add("slideUp"),setTimeout(function(){e.style.display="none",e.classList.remove("slideUp")},500)}var p,f,v,y,E,h,L=[],B=document.getElementById("opening"),I=document.getElementById("scoreBoard"),C=document.getElementById("result"),k=document.getElementById("time"),b=document.getElementById("scoreList"),S=document.getElementById("nameOfPlayer"),w=document.getElementById("saveScore"),T=document.getElementById("startButton"),x=document.getElementById("exitGame"),D=document.getElementById("newGame"),M=document.getElementById("scoreBoardButton"),N=document.getElementById("closeScoreBoard");window.addEventListener("load",function(){var e=JSON.parse(localStorage.getItem("records_array"));e&&(L=e,a(L))},!1),T.addEventListener("click",function(e){u(),l(),g(B),v=(new Date).getTime(),h=setInterval(d,100)},!1),M.addEventListener("click",function(){m(I)},!1),N.addEventListener("click",function(){g(I)},!1),D.addEventListener("click",function(e){e.preventDefault(),u();for(var t=document.getElementsByClassName("card"),n=0;n<t.length;n++){var a=Math.floor(300*Math.random());t[n].classList.contains("flipped")&&setTimeout(function(e){t[e].classList.remove("flipped")},a,n)}h&&clearInterval(h),setTimeout(function(){l(),v=(new Date).getTime(),h=setInterval(d,100)},802)},!1),x.addEventListener("click",function(){u(),h&&clearInterval(h),m(B)},!1),document.addEventListener("click",function(e){e.target&&e.target.classList.contains("back")&&(i(e),s()&&(clearInterval(h),y=(new Date).getTime(),E=y-v,E/=1e3,k.textContent="Your time is: "+E+" seconds.",setTimeout(function(){m(C)},1e3)))},!1),w.addEventListener("click",function(n){n.preventDefault(),L.push(new t(E,S.value)),B.style.display="flex",g(C),S.value="",a(L),e()},!1)}();