function clickingCard(e){cardFirst||cardSecond?cardFirst&&!cardSecond?(flipped(e.target),cardSecond=e.target):cardFirst&&cardSecond&&(cardFirst.previousSibling.src!=cardSecond.previousSibling.src?(unflipped(cardFirst),unflipped(cardSecond)):(cardFirst.previousSibling.src=cardSecond.previousSibling.src)&&(cardFirst.previousSibling.classList.add("grayish"),cardSecond.previousSibling.classList.add("grayish")),cardSecond="",cardFirst=e.target,flipped(cardFirst)):(cardFirst=e.target,flipped(e.target))}function checkResult(){for(var e=document.getElementsByClassName("card"),t=0;t<e.length;t++)if(!e[t].classList.contains("flipped"))return!1;return!0}function flipped(e){e.parentNode.classList.add("flipped")}function unflipped(e){e.parentNode.classList.remove("flipped")}function shuffle(){for(var e=["czech","france","italy","japan","korea","portugal","russia","uruguay","czech","france","italy","japan","korea","portugal","russia","uruguay"],t=[];e.length;){var n=Math.floor(Math.random()*e.length);t.push(e.splice(n,1)[0])}return t}function dealCards(){var e=document.getElementById("board");e.innerHTML="";for(var t=shuffle();t.length;){var n=document.createElement("img"),a=document.createElement("figure"),r=document.createElement("div");r.classList.add("container");var i=document.createElement("div");i.classList.add("card"),n.src="images/"+t[0]+".png",n.classList.add("front"),a.textContent="Fun with Flags",a.classList.add("back"),i.appendChild(n),i.appendChild(a),r.appendChild(i),e.appendChild(r),t.splice(0,1)}}function newGame(e){dealCards();var t=e.target.parentNode;t.classList.add("zwinC"),setTimeout(function(e){e.style.display="none",e.classList.remove("zwinC")},500,t)}function counter(){var e=document.getElementById("counter");endGame=(new Date).getTime(),resultTime=endGame-startGame,resultTime/=1e3,resultTime=Math.round(10*resultTime)/10,e.textContent=resultTime}var cardFirst,cardSecond,startGame,endGame,resultTime,counterInterval,startButton=document.getElementById("startButton");startButton.addEventListener("click",function(e){newGame(e),startGame=(new Date).getTime(),counterInterval=setInterval(counter,1)},!1);var saveScoreButton=document.getElementById("saveScore");saveScoreButton.addEventListener("click",function(e){e.preventDefault(),document.getElementById("opening").style.display="flex";var t=document.getElementById("result");t.classList.add("zwinC"),setTimeout(function(){t.style.display="none",t.classList.remove("zwinC")},500)},!1),document.getElementById("newGame").addEventListener("click",function(e){e.preventDefault();for(var t=document.getElementsByClassName("card"),n=0;n<t.length;n++){var a=Math.floor(300*Math.random());t[n].classList.contains("flipped")&&setTimeout(function(e){t[e].classList.remove("flipped")},a,n)}setTimeout(function(){counterInterval&&clearInterval(counterInterval),dealCards(),startGame=(new Date).getTime(),counterInterval=setInterval(counter,1)},802),cardFirst="",cardSecond=""},!1);var resultDiv=document.getElementById("result"),resultTimeDiv=document.getElementById("time");document.addEventListener("click",function(e){e.target&&e.target.classList.contains("back")&&(clickingCard(e),checkResult()&&(clearInterval(counterInterval),endGame=(new Date).getTime(),resultTime=endGame-startGame,resultTime/=1e3,resultTimeDiv.textContent="Your time is: "+resultTime+" seconds.",setTimeout(function(){resultDiv.style.display="flex",resultDiv.classList.add("rozwinC"),setTimeout(function(){resultDiv.classList.remove("rozwinC")},500)},1e3)))},!1);